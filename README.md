# netutils

Some useful utilities about network

## netmerge

用于合并/压缩网络号, 支持cidr格式和子网掩码格式, 错误的格式将被忽略

支持计算网络差集

Usage:

    php netmerge.php [[+|-]{net|host}] ...
    # net: 192.168.1.0/24 or 192.168.1.0/255.255.255.0 or 192.168.1.0,24 or 192.168.1.1/32
    # host: 192.168.1.1

Sample:

```bash
    php netmerge.php 0.0.0.0/1 128.0.0.0/1
    # 0.0.0.0/0

    php netmerge.php 0.0.0.0/0 -0.0.0.0/1
    # 128.0.0.0/1

    php netmerge.php 0.0.0.0/1 -0.0.0.0/2
    # 64.0.0.0/2

    php netmerge.php 0.0.0.0/1 -0.0.0.0/2 -64.0.0.0/2
    # (yes, nothing)

    php netmerge.php <<EOF
    0.0.0.0/2
    64.0.0.0/2
    128.0.0.0/2
    192.0.0.0/2
    EOF
    # 0.0.0.0/0

    php netmerge.php 192.168.1.0,16 192.168.1.0,24
    # 192.168.1.0/16

    php netmerge.php 192.168.1.0/255.255.0.0 192.168.1.0/255.255.255.0
    # 192.168.1.0/16

    php netmerge.php 192.168.1.0 192.168.1.1 192.168.1.2 192.168.1.3 192.168.1.4 192.168.1.5 192.168.1.6
    # 192.168.1.0/30
    # 192.168.1.4/31
    # 192.168.1.6/32

    php netmerge.php 0.0.0.0/0 -192.168.0.0/16 -172.16.0.0/12 -10.0.0.0/8 -169.254.0.0/16 -100.64.0.0/10 -127.0.0.0/8 -224.0.0.0/4 -0.0.0.0 -255.255.255.255
    # 0.0.0.1/5
    # 8.0.0.1/8
    # 9.0.0.1/9
    # 9.128.0.1/10
    # 9.192.0.1/11
    # 9.224.0.1/12
    # 9.240.0.1/13
    # 9.248.0.1/14
    # 9.252.0.1/15
    # 9.254.0.1/16
    # 9.255.0.1/17
    # 9.255.128.1/18
    # 9.255.192.1/19
    # 9.255.224.1/20
    # 9.255.240.1/21
    # 9.255.248.1/22
    # 9.255.252.1/23
    # 9.255.254.1/24
    # 9.255.255.1/25
    # 9.255.255.129/26
    # 9.255.255.193/27
    # 9.255.255.225/28
    # 9.255.255.241/29
    # 9.255.255.249/30
    # 9.255.255.253/31
    # 9.255.255.255/32
    # 11.0.0.0/2
    # 75.0.0.0/4
    # 91.0.0.0/5
    # 99.0.0.0/8
    # 100.0.0.0/10
    # 100.128.0.0/4
    # 116.128.0.0/5
    # 124.128.0.0/7
    # 126.128.0.0/9
    # 128.0.0.0/3
    # 160.0.0.0/5
    # 168.0.0.0/8
    # 169.0.0.0/9
    # 169.128.0.0/10
    # 169.192.0.0/11
    # 169.224.0.0/12
    # 169.240.0.0/13
    # 169.248.0.0/14
    # 169.252.0.0/15
    # 169.255.0.0/7
    # 171.255.0.0/12
    # 172.15.0.0/16
    # 172.32.0.0/4
    # 188.32.0.0/6
    # 192.32.0.0/9
    # 192.160.0.0/13
    # 192.169.0.0/4
    # 208.169.0.0/5
    # 216.169.0.0/6
    # 220.169.0.0/7
    # 222.169.0.0/8
    # 223.169.0.0/10
    # 223.233.0.0/12
    # 223.249.0.0/14
    # 223.253.0.0/15
    # 223.255.0.0/16
    # 240.0.0.0/5
    # 248.0.0.0/6
    # 252.0.0.0/7
    # 254.0.0.0/8
    # 255.0.0.0/9
    # 255.128.0.0/10
    # 255.192.0.0/11
    # 255.224.0.0/12
    # 255.240.0.0/13
    # 255.248.0.0/14
    # 255.252.0.0/15
    # 255.254.0.0/16
    # 255.255.0.0/17
    # 255.255.128.0/18
    # 255.255.192.0/19
    # 255.255.224.0/20
    # 255.255.240.0/21
    # 255.255.248.0/22
    # 255.255.252.0/23
    # 255.255.254.0/24
    # 255.255.255.0/25
    # 255.255.255.128/26
    # 255.255.255.192/27
    # 255.255.255.224/28
    # 255.255.255.240/29
    # 255.255.255.248/30
    # 255.255.255.252/31
    # 255.255.255.254/32
```

### netmerge/netcal

根据ip开始地址和结束地址, 计算出区间跨越的所有网络

Usage:

```bash
    php netcal.php {ip_start} {ip_end}
```

Sample:

```bash
    php netcal.php 1.1.1.1 2.2.2.2
    # 1.1.1.1/8
    # 2.1.1.1/16
    # 2.2.1.1/24
    # 2.2.2.1/31

    php netcal.php 192.168.1.0 192.168.1.255
    # 192.168.1.0/24

    php netcal.php 192.168.1.0 192.168.1.254
    # 192.168.1.0/25
    # 192.168.1.128/26
    # 192.168.1.192/27
    # 192.168.1.224/28
    # 192.168.1.240/29
    # 192.168.1.248/30
    # 192.168.1.252/31
    # 192.168.1.254/32
```
